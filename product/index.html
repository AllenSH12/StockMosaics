<!DOCTYPE html>
<html>
<head>
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="../product/resources/jquery-cookie-master/jquery.cookie.js"></script>
	<script type="text/javascript">
		function sumFields(a, b, c, d) {
			var total = parseInt(a) + parseInt(b) + parseInt(c) + parseInt(d);
			alert(total);
			$.cookie('target', total);
			document.getElementById("priceTarget").innerHTML= total;
		}
		
		Object[] totRev {"localAds","brandAds","other" }; {
			var localAds = 2;
			var brandAds = 3;
			var other = 4;
			Object = localAds + brandAds + other;
			return Object;
		}
		/*
		loop totRev to account for  n-dimensional array
		*/
	
		function grossProfit("totRev","CogsInclDnA") {
			var grossProfit = totRev - CogsInclDnA;
			return grossProfit;
		}
		
		function EBIT("grossProfit","RnD","SnM","other")  {
			var EBIT = grossProfit - RnD - SnM - other;		
			return EBIT;
		}
		
		function EBT("EBIT","InterestFx") {
			var EBT = EBIT - InterestFx;
			return EBT;
		}
		
		function cashOpActivities(OpcashFlows[]) {
			var totalCashOpActivities = sumVar(OpcashFlows[]);
			return totalCashOpActivities;
		}

		function sumVar(variables[]) {
			var total = 0;
			for (var i=0; i<variables.length; i++) {
				total += variables[i];
			}
		}
		
		function capEx() {
			var capEx = 1;
			return capEx;
		}
		
		function FreeCashFlow2013("cashOpActivities", "CapEx"); {
			var FreeCashFlow = cashOpActivities + CapEx;
			return FreeCashFlow;
		}
		
		function DCF2013("FreeCashFlow", "WACC"); {
			var WACC = .115;
			var DCF2013 = "FreeCashFlow"/(1+"WACC");
			return DCF2013;
		}
		
		function SumDCF("DCF2013","DCF2014","DCF2015","DCF2016","DCF2017","DCF2018","DCF2019","DCF2020"); {
			var DCF2014 = FreeCashFlow2014/(1+"WACC")^2;
			var DCF2015 = FreeCashFlow2015/(1+"WACC)^3;
			var DCF2016 = FreeCashFlow2016/(1+"WACC)^4;
			var DCF2017 = FreeCashFlow2017/(1+"WACC)^5;
			var DCF2018 = FreeCashFlow2018/(1+"WACC)^6;
			var DCF2019 = FreeCashFlow2019/(1+"WACC)^7;
			var DCF2020 = FreeCashFlow2020/(1+"WACC)^8;
			var TotSumDiscountedCashFlows = "DCF2013" + "DCF2014" + "DCF2015" + "DCF2016" + "DCF2017" + "DCF2018" + "DCF2019" + "DCF2020";
			return TotSumDiscountedCashFlows;
		}
		
		/*where should we get DCF2014 - DCF2020 from...
		*/
		
		function TermVal("FreeCashFlow20", "WACC", "termGrowthRate"); {
			var TermVal = ["FreeCashFlow20"*(1+"termGrowthRate")]/("WACC - termGrowthRate");
			return TermVal;
		}
		
		function EV("TotSumDiscountedCashFlows","TermVal","CashEq","TotDebt"); {
			var EV = "TotSumDiscountedCashFlows" + "TermVal" - "CashEq" + "TotDebt";
			return EV;
		}
		
		function PriceTarget("EV","SharesOut"); {
			var PriceTarget = "EV"/"SharesOut";
			return PriceTarget;
		}			
		
		
		
		
		
	</script>
</head>

<body>
	<h3>Growth Rates</h3><br>
	<div>
		<form name="babyForm" onsubmit="sumFields(revenueRate.value,assetRate.value,liabilityRate.value,rAndDRate.value)">
			Revenue: <input type="number" name="revenueRate" /><br>
			Assets: <input type="number" name="assetRate" /><br>
			Liability: <input type="number" name="liabilityRate" /><br>
			R & D: <input type="number" name="rAndDRate" /><br>
			<input type="submit" value="Submit" />
		</form>
	</div>
	<p>Price target: $</p><p id="priceTarget"></p>
</body>


</html>