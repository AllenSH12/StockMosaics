<!DOCTYPE html>
<html>
<head>
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="../product/resources/jquery-cookie-master/jquery.cookie.js"></script>
	<script type="text/javascript">
		function sumFields(a, b, c, d) {
			var total = parseInt(a) + parseInt(b) + parseInt(c) + parseInt(d);
			alert(total);
			$.cookie('target', total);
			document.getElementById("priceTarget").innerHTML= total;
		}

		function sumRows(array[]) {
			var totals = [];
			for (var i = 0; i < array.length; i ++) {
				for (var j = 0; j < array[i].length; j++) {
					totals[i] += array[i][j];
				}
			}
			return totals[];
		}
		
		function totalRevenue(localAds[],brandAds[],other[]) {
			var placeholder = [localAds[],brandAds[],other[]];
			var totals[] = sumArray(placeholder);

			grossProfit(totals[], cogsInclDnA[]);
		}
	
		function grossProfit(totRev[],cogsInclDnA[]) {
			var grossProfits = [];
			for (var i = 0; i < totRev.length; i++) {
				//gross profit for year i equals total revenue for year i less COGS for year i
				grossProfits[i] = totRev[i] - cogsInclDnA[i];
			}
			EBIT(grossProfits[], RnD[], SnM[], other[]);
		}
		
		function EBIT(grossProfit[],RnD[],SnM[],other[])  {
			var EBIT = [];
			for (var i = 0; i < grossProfit.length; i++) {
				EBIT[i] = grossProfit[i] - RnD[i] - SnM[i] - other[i];
			}
			EBT(EBIT[],InterestFx[]);
		}
		
		function EBT(EBIT,InterestFx) {
			var EBT = EBIT - InterestFx;
			return EBT;
		}
		
		function cashOpActivities(OpcashFlows[]) {
			var totalCashOpActivities = sumVar(OpcashFlows[]);
			return totalCashOpActivities;
		}

		function sumVar(variables[]) {
			var total = 0;
			for (var i=0; i<variables.length; i++) {
				total += variables[i];
			}
			return total;
		}
		
		function capEx() {
			var capEx = 1;
			return capEx;
		}
		
		function FreeCashFlow2013(cashOpActivities, CapEx) {
			var FreeCashFlow = cashOpActivities + CapEx;
			return FreeCashFlow;
		}
		
		function DCF(FreeCashFlow, WACC, Years) {
			var WACC = .115;
			var DCF = FreeCashFlow/(1+WACC)^years;
			return DCF;
		}
		
		function SumDCF(freeCashFlows[]) {
			var TotSumDiscountedCashFlows = 0;
			//visit every freeCashFlow
			for (var i = 0; i< freeCashFlows.length; i++) {
				//compute DCF for each FCF
				var DCF = DCF(freeCashFlows[i], WACC, i+1);
				TotSumDiscountedCashFlows += DCF;
			}
			return TotSumDiscountedCashFlows;
		}
		
		/*where should we get DCF2014 - DCF2020 from...
		*/
		
		function TermVal(FreeCashFlow20, WACC, termGrowthRate) {
			var TermVal = (FreeCashFlow20*(1+termGrowthRate))/(WACC - termGrowthRate);
			return TermVal;
		}
		
		function EV(TotSumDiscountedCashFlows,TermVal,CashEq,TotDebt) {
			var EV = TotSumDiscountedCashFlows + TermVal - CashEq + TotDebt;
			return EV;
		}
		
		function PriceTarget(EV,SharesOut) {
			var PriceTarget = EV/SharesOut;
			return PriceTarget;
		}			
		
		/*balance sheet
		*/
		
		function currentAssets(CashEq,AcctsRec,StInv,MktSec,Inv,DefTaxAssets,PrepaidExp,AccExp,other) {
			var currentAssets = cashEq + AcctsRec + StInv + MktSec + Inv + DefTaxAssets + PrepaidExp + AccExp + other;
			return currrentAssets;
		}
		
		function longTermAssets(TangibleAssets,BldsStructures,MachineryEq,FurnitureEq,Land,AccDep,IntangAssets,Software,Goodwill,OtherNetInt,InvAndOtherAssets,InvSec,OtherRec,OtherAssets,DefTaxAssets,LongTimeDeposit,Others,Allowance) {
			var longTermAssets = TangibleAssets+BldsStructures+MachineryEq+FurnitureEq+Land+AccDep+IntangAssets+Software+Goodwill+OtherNetInt+InvAndOtherAssets+InvSec+OtherRec+OtherAssets+DefTaxAssets+LongTimeDeposit+Others+Allowance;
			return longTermAssets;
		}
		
		function TotAssets("currentAssets","longTermAssets") {
			var TotAssets = currentAssets + longTermAssets;
			return TotAssets;
		}
		
		function CurrentLiabilities("StNP","StDebt","StBorrowing","CurrentInstLTDebt","BondsDue","AP","AccExp","ItaxPay","AllowProd","DivPay","OtherCurrLiab") {
			var CurrentLiabilities = StNP+StDebt+StBorrowing+CurrentInstLTDebt+BondsDue+AP+AccExp+ItaxPay+AllowProd+DivPay+OtherCurrLiab;
			return CurrentLiabilities;
		}
		
		function NonCurrentLiab("LtDebt","Bond","bondWarrant","LtBorrow","DefTaxLiab","ProvRiskCharge","RetirementSevBenef","OtherNonCurrLiab") {
			//what are you trying to do here?
			var NonCurrentLiab = LtDebt,Bond,bondWarrant,LtBorrow,DefTaxLiab,ProvRiskCharge,RetirementSevBenef,OtherNonCurrLiab;
		function NonCurrentLiab("LtDebt","Bond","bondWarrant","LtBorrow","DefTaxLiab","ProvRiskCharge","RetirementSevBenef","OtherNonCurrLiab"); {
			var NonCurrentLiab = LtDebt+Bond+bondWarrant+LtBorrow+DefTaxLiab+ProvRiskCharge+RetirementSevBenef+OtherNonCurrLiab;
			return NonCurrentLiab;
		}
		
		function TotLiab("CurrentLiabilities","NonCurrentLiab") {
			var TotLiab = CurrentLiabilities + NonCurrentLiab;
			return TotLiab;
		}
		
		function StockhldrsEq("RedeemablePrefStock","AddPic","RetainedEarnings","Tstock","CommonEq","AssetLiabDiffPlug","CumTranslAdj","UnrealizedGainLossMktSec") {
			{
			function AssetLiabDiffPlug("TotAssets","TotLiab","RedeemablePrefStock","AddPic","RetainedEarnings","Tstock","CommonEq","CumTranslAdj","UnrealizedGainLossMktSec") {
				var AssetLiabDiffPlug = TotAssets - TotLiab - RedeemablePrefStock - AddPic - RetainedEarnings - Tstock - CommonEq - CumTranslAdj - UnrealizedGainLossMktSec;
				return AssetLiabDiffPlug;
				}
			var StockhldrsEq = RedeemablePrefStock+AddPic+RetainedEarnings+Tstock+CommonEq+AssetLiabDiffPlug+CumTranslAdj+UnrealizedGainLossMktSec;
			return StockhldrsEq;
			}
		}

		/*function CashFlowInv("proceedsSaleTangAssets", "PurchaseIntAssets","ProceedsSaleIntAssets","PurchaseInvSec","ProceedsSalesRedempInvSec","PurchaseStocksSubAffil","ProceedsStocksSubAffil","PmtsLTloansRec","CollectionsLTLoansRec","DecSTLoansRec","ProceedsTransfBus","OtherNet","PmtsTimeDeposit","ProceedsTimeDep"); {
			var CashFlowInv = "proceedsSaleTangAssets"+"PurchaseIntAssets"+"ProceedsSaleIntAssets"+"PurchaseInvSec","ProceedsSalesRedempInvSec","PurchaseStocksSubAffil"+"ProceedsStocksSubAffil"+"PmtsLTloansRec"+"CollectionsLTLoansRec"+"DecSTLoansRec"+"ProceedsTransfBus"+"OtherNet"+"PmtsTimeDeposit"+"ProceedsTimeDep";
		}*/

		function cashInvActivities(InvcashFlows[]) {
			var totalCashInvActivities = sumVar(InvcashFlows[]);
			return totalCashInvActivities;
		}

		function cashFinActivities(FincashFlows[]) {
			var totalCashFinActivities = sumVar(FincashFlows[]);
			return totalCashFinActivities;
		}

		function netChangeCash("totalCashOpActivities","totalCashInvActivities","totalCashFinActivities"); {
			var netChangeCash = totalCashOpActivities + totalCashInvActivities + totalCashFinActivities;
			return netChangeCash;
		}
		
		function EBITDA("netIncome","InterestFx","taxes","DnA"); {
			EBITDA = netIncome + InterestFx + taxes + DnA;
			return EBITDA;
		}
		
		function EBITDAtoEV("EBITDA","EV"); {
			EBITDAtoEV = EBITDA/EV;
			return EBITDAtoEV;
		}


		var Local Advertising = [171.1,240.9,321.3,389.2,1412.90228,425.2893484,438.048028852];
		var Brand Advertising = [24.2,28.2,34.1,38.9,140.47156,41.2809912,42.106611024];
		var Other Services = [9.1,11.7,12,14,114.5656,14.856912,15.15405024];
		var cogsInclDnA = [14,20,25,40,43,46,49,52];
		var Research & Development = [19.2,26.88,34.944,41.9328,46.12608,50.738688,55.8125568,61.39381248];
		var Sales & Marketing = [0,0,0,0,0,0,0,0];
		var Other = [114.832,160.7648,208.99424,250.793088,275.8723968,303.45963648,333.805600128,367.1861601408];

		var Local Advertising=[0.591627906976744, 0.407948568088837, 0.03, 0.03, 0.03, 0.03, 0.03, 0.03, ]
		var Brand Advertising=[0.152380952380952, 0.165289256198347, 0.02, 0.02, 0.02, 0.02, 0.02, 0.02, ]
		var Other Services=[0.151898734177215, 0.285714285714286, 0.02, 0.02, 0.02, 0.02, 0.02, 0.02, ]
		var =[0, 0, 0.02, 0.02, 0.02, 0.02, 0.02, 0.02, ]
		var =[0, 0, 0.02, 0.02, 0.02, 0.02, 0.02, 0.02, ]
		var Cost of Revenue Growth Rates=[0.07, 0.07, 0.07, 0.07, 0.07, 0.07, 0.07, 0.07, ]
		var Cost of Revenue as % of Total Revenue=[]
		var Depreciation & Amortization Expense=[0.276119402985075, 0.289473684210526, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Depreciation=[0, 0, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Amortization of Intangibles=[0, 0, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var SG&A Growth Rates=[0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, ]
		var R&D Growth Rates=[0.6, 0.4, 0.3, 0.2, 0.1, 0.1, 0.1, 0.1, ]
		var SG&A Other Growth Rates=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Interest (and fx) Growth Rates=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Nonoperating Income (Expense) - Net=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Nonoperating Interest Income=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Other Income (Expense)=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Interest Expense=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Gross Interest Expense=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Interest Capitalized=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Fixed Assets Impariment=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Unusual Expense (Income) - Net=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Financial Assets Impairment=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Reorganization and Restructure Expense=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Goodwill Write-off=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Legal Claim Expense=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Unrealized Investment Loss (Gain)=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]
		var Other Unusual Expense=[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, ]



















	</script>
</head>

<body>
	<h3>Growth Rates</h3><br>
	<div>
		<form name="babyForm" onsubmit="sumFields(revenueRate.value,assetRate.value,liabilityRate.value,rAndDRate.value)">
			Revenue: <input type="number" name="revenueRate" /><br>
			Assets: <input type="number" name="assetRate" /><br>
			Liability: <input type="number" name="liabilityRate" /><br>
			R & D: <input type="number" name="rAndDRate" /><br>
			<input type="submit" value="Submit" />
		</form>
	</div>
	<p>Price target: $</p><p id="priceTarget"></p>
</body>


</html>